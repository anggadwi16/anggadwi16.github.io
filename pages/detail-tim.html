<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8"/>
	<title>Liga Inggris | Detail Tim - Premier League</title>
	<meta name="description" content="Liga Inggris"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<meta name="theme-color" content="#0a0a0a">
	<link rel="manifest" href="../manifest.json"/>
	<link rel="stylesheet" href="../css/materialize.min.css">
	<link rel="stylesheet" href="../css/style.css">
	<link rel="shortcut icon" href="../img/icon.png">
	<link rel="apple-touch-icon" href="../img/apple-touch-icon-180x180.png">

	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


</head>
<body>
	<!-- Navigasi -->
	<nav class="nav-color lighten-1" role="navigation">
		<div class="nav-wrapper container">
			<!-- TOMBOL BACK TIM -->
			<a href="../index.html#tim" id="back-tim-show" class="btopnav left hide-on-med-and-down"><i class="material-icons">arrow_back</i></a>
			<!-- TOMBOL BACK SAVE TIM -->
			<a href="../index.html#save-tim" id="back-save-tim-show" class="btopnav left hide-on-med-and-down"><i class="material-icons">arrow_back</i></a>
			<!-- TOMBOL BANK TIM MOBILE -->
			<a href="../index.html#tim" id="back-tim" class="sidenav-trigger waves-effect waves-light" data-target="nav-mobile">
          		<i class="material-icons">arrow_back</i>
        	</a>
        	<!-- TOMBOL BACK SAVE TIM MOBILE -->
        	<a href="../index.html#save-tim" id="back-save-tim" class="sidenav-trigger waves-effect waves-light" data-target="nav-mobile">
          		<i class="material-icons">arrow_back</i>
        	</a>

			<a href="#" class=" left" id="logo-container"><img class="img-logo" src="../img/icon.png" alt="logo"/></a>
			<span class="left">Detail Tim  - Premier League</span>
			<ul class="topnav right hide-on-med-and-down"></ul>
			<ul class="sidenav" id="nav-mobile"></ul>
		</div>
	</nav>

	<div class="row center">
		<div class="col s12">
		<!-- LOADER -->
			 <div class="preloader-wrapper active" id="loader-detail-tim" style="margin: 16px;">
			    <div class="spinner-layer spinner-red-only">
			      <div class="circle-clipper left">
			        <div class="circle"></div>
			      </div><div class="gap-patch">
			        <div class="circle"></div>
			      </div><div class="circle-clipper right">
			        <div class="circle"></div>
			      </div>
			    </div>
		  	</div>
		  </div>
		</div>

	<!-- BODY CONTENT -->
	<div class="container center" id="body-content">
		
	</div>

	<!-- FAB -->
	<div class="fixed-action-btn">
      <a class="btn-floating btn-large black waves-effect waves-light" id="save-team">
        <i class="large material-icons">save</i>
      </a>
    </div>

	<script src="../js/materialize.min.js"></script>
	<script src="../js/api.js"></script>
	<script src="../js/idb.js"></script>
	<script src="../js/db.js"></script>



	<script type="text/javascript">
		//Register service worker
		if("serviceWorker" in navigator){
			window.addEventListener("load", function(){
				navigator.serviceWorker
					.register("../service-worker.js")
					.then(function(){
						console.log("Pendaftaran service worker berhasil");
					})
					.catch(function(){
						console.log("Pendaftaran service worker gagal");
					});
			});
		}else{
			console.log("service worker belum didukung oleh browser");
		}

		document.addEventListener("DOMContentLoaded", function(){
			let urlParam = new URLSearchParams(window.location.search);
			let isFromSaved = urlParam.get("saved");

			let backSavedTim = document.getElementById("back-save-tim");
			let backSavedTimShow = document.getElementById("back-save-tim-show");
			let backTim = document.getElementById("back-tim");
			let backTimShow = document.getElementById("back-tim-show");


			let item;
			let btnSave = document.getElementById("save-team");

			if(isFromSaved){
				btnSave.style.display = 'none';
				//backSavedTim.style.display = 'block';
				backSavedTimShow.style.display = 'block';
				backTim.style.display = 'none';
				backTimShow.style.display = 'none';
				getSavedTeamsById();
			}else{
				item = getTeamsById();
				backSavedTim.style.display = 'none';
				backSavedTimShow.style.display = 'none';
				//backTim.style.display = 'block';
				backTimShow.style.display = 'block';


			}

			btnSave.onclick = function(){
				console.log("klik");

				item.then(function(data){

					saveTeams(data);
					btnSave.style.display = 'none';

				});

			}

		});
	</script>
</body>
</html>